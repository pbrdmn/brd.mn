<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="/styles.css" />
    <meta
      name="theme-color"
      content="#f4eff5"
      media="(prefers-color-scheme: light)"
    />
    <meta
      name="theme-color"
      content="#160d16"
      media="(prefers-color-scheme: dark)"
    />
    <link rel="icon" href="/favicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <title>brd.mn &rarr; Rebuilding with Eleventy</title>
    <meta name="description" content="Rebuilding this personal site with a new static site generator" />
  </head>
  <body>
    <header>
      <h1><a href="/">Philip Boardman</a></h1>
      <p>Engineering Manager</p>
    </header>

    <nav>
      <ul><li><a href="/" >About Me</a></li><li><a href="/articles/" >Articles</a></li><li><a href="/cv/" >CV</a></li><li><a href="/links/" >Links</a></li></ul>
    </nav>

    <main>
    
<article>
  <h2>Rebuilding with Eleventy</h2>
<p>For a simple site, I've been hosting a minimal PHP <code>markdown</code> to <code>html</code> application to manage this personal site. As my professional software development career has moved on I haven't programmed in PHP for <em>years</em>. So it's time for this site to follow this transition and move away from PHP too.</p>
<p>While I wanted to move away from PHP, the underlying data for this site is managed in markdown. So ideally I would like to keep this data in markdown and only replace the html generation and also refresh the styling at the same time.</p>
<hr>
<p>After some research, I decided to work with <a href="https://www.11ty.dev/">Eleventy</a>, which will be able to build a static site from my markdown files and also provide a quick preview mode when working on the files. With a small <code>.eleventy.js</code> config file in the root directory it can even run without installing the package itself, meaning we don't even need a bloated <code>node_modules</code> directory, by using <code>npx</code>.</p>
<p>After reading the documentation and watching a <a href="https://www.youtube.com/watch?v=p81J7G1qFAM">short ten minute tutorial</a>, my final config file looks like this:</p>
<pre><code>module.exports = function (eleventyConfig) {
  eleventyConfig.addPassthroughCopy(&quot;./src/styles.css&quot;);
  eleventyConfig.addWatchTarget(&quot;./src/styles.css&quot;);
  eleventyConfig.addPassthroughCopy(&quot;src/**/*.{jpg,jpeg,png,gif}&quot;);
  return {
    dir: {
      input: &quot;src&quot;,
      output: &quot;www&quot;
    }
  }
};
</code></pre>
<p>This configuration sets input and output directories - source files are in <code>src</code> and the finished website is output at <code>www</code>, as well as identifying that we want the <code>./src/styles.css</code> file and images <code>*.{jpg,jpeg,png,gif}</code> copied to the website too.</p>
<hr>
<p>Previewing the website is achieved by running eleventy with the <code>--serve</code> parameter, which runs a webserver hosting the output directory and monitors the input files for changes, which will then rebuild the website and refresh the browser.</p>
<pre><code>npx @11ty/eleventy --serve
</code></pre>
<p>The website files can also be generated without reloading and previewing with:</p>
<pre><code>npx @11ty/eleventy
</code></pre>
<p>Once the website is ready to be released, the static files can be copied from the output directory to a web server and the hard part is done.</p>
<hr>
<p>After this, there is opportunity to explore integrating the build and publish steps into a CI/CD pipeline to be triggered by changes to a code repository, when adding or editing an article or other page.</p>


  <footer>
    <p class="meta">Published on: Mon Feb 28 2022</p>
  </footer>
</article>
    </main>
  </body>
</html>